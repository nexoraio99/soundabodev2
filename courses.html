<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Soundabode — Courses</title>
  <meta name="description" content="Soundabode Music Production & DJ courses - futuristic 2025 landing page" />
  <meta name="theme-color" content="#000000" />

  <!-- Favicons -->
  <link rel="icon" href="/Assets/favicon.ico" sizes="any" />
  <link rel="icon" type="image/png" sizes="192x192" href="/Assets/favicon-192x192.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="/Assets/favicon-180x180.png" />

  <!-- We'll create a manifest at runtime to avoid 404 if the file hasn't been uploaded -->
  <link id="site-manifest" rel="manifest" href="/site.webmanifest" />

  <style>
    :root{
      --bg-1:#000;
      --muted:#9aa6b2;
      --accent-1:#bcbcbc;
      --accent-2:#777777;
      --container:1120px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:var(--bg-1);
      color:#e8eef6;
      font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.6;
      padding-bottom:80px;
    }
    a{color:inherit;text-decoration:none}
    .container{max-width:var(--container);margin:0 auto;padding:0 20px}
    /* navbar */
    .navbar{
      position:fixed;top:0;left:0;width:100%;z-index:120;
      height:64px;padding:10px 20px;display:flex;align-items:center;justify-content:space-between;
      background:rgba(10,10,10,0.35);backdrop-filter:blur(8px);border-bottom:1px solid rgba(255,255,255,0.04)
    }
    .logo-img{height:36px}
    .nav-links{display:flex;gap:20px;align-items:center}
    .nav-links a{font-size:0.9rem;opacity:0.95}
    .hamburger-menu{display:none}
    @media(max-width:768px){.nav-links{display:none}.hamburger-menu{display:block}}
    /* hero */
    .hero{display:grid;grid-template-columns:1fr;gap:28px;align-items:center;padding-top:84px}
    @media(min-width:1020px){.hero{grid-template-columns:1.25fr 1fr}}
    .hero h1{font-size:clamp(22px,2.6vw,34px);margin:0}
    .gradient-text{
      background:linear-gradient(90deg,var(--accent-1),var(--accent-2));
      -webkit-background-clip:text;background-clip:text;color:transparent;
    }
    .hero p{color:var(--muted);max-width:40rem;margin-top:12px;font-size:0.95rem}
    .cta-row{margin-top:16px;display:flex;gap:12px;flex-wrap:wrap}
    .btn-primary,.btn-outline{padding:10px 16px;border-radius:999px;font-weight:600;border:0;cursor:pointer}
    .btn-primary{background:linear-gradient(90deg,var(--accent-1),var(--accent-2));color:#041014}
    .btn-outline{background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.06)}
    /* hero visual */
    .hero-visual{position:relative;height:340px;border-radius:16px;overflow:hidden;background:#000;border:1px solid rgba(255,255,255,0.02)}
    .floating-img{position:absolute;border-radius:12px;object-fit:cover;z-index:3}
    .floating-img.album{left:24px;top:24px;width:160px;height:160px}
    .floating-img.studio{right:24px;bottom:24px;width:130px;height:130px}
    /* tabs / levels */
    .tabs{display:flex;gap:10px;margin-top:28px;background:rgba(255,255,255,0.02);padding:6px;border-radius:999px;border:1px solid rgba(255,255,255,0.06)}
    .tab-btn{padding:8px 18px;border-radius:999px;border:0;background:transparent;cursor:pointer;color:#e8eef6;font-weight:500}
    .tab-btn.active{background:#111}
    .levels-grid{display:grid;grid-template-columns:1fr;gap:14px;margin-top:14px}
    @media(min-width:920px){.levels-grid{grid-template-columns:repeat(2,minmax(0,1fr))}}
    .level-card{display:flex;gap:12px;padding:14px;border-radius:14px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.04)}
    .level-badge{width:40px;height:40px;border-radius:12px;background:rgba(255,255,255,0.04);display:flex;align-items:center;justify-content:center;font-weight:700}
    .level-content{flex:1;min-width:0}
    .level-title{margin:0;font-size:1rem}
    .level-subtitle{color:var(--muted);margin-top:6px;font-size:0.95rem}
    .level-meta-row{display:flex;justify-content:space-between;align-items:center;margin-top:10px;gap:12px;flex-wrap:wrap}
    .level-link{font-size:0.9rem;text-transform:uppercase;letter-spacing:0.08em;border-bottom:1px dashed rgba(255,255,255,0.18);padding-bottom:2px;cursor:pointer}
    /* testimonials */
    .testimonials{padding:clamp(28px,6vw,56px) 16px;text-align:center;border-top:1px solid rgba(255,255,255,0.03);margin-top:28px}
    .testimonial-container{max-width:920px;margin:0 auto;position:relative;height:clamp(170px,20vh,240px)}
    .testimonial{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) scale(.98);width:min(88%,820px);padding:18px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.04);opacity:0;pointer-events:none;transition:all .45s;}
    .testimonial.active{opacity:1;pointer-events:auto;transform:translate(-50%,-50%) scale(1)}
    .quote{margin:0;color:rgba(230,230,230,0.95);font-size:clamp(.92rem,1.8vw,1.02rem);line-height:1.5;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;overflow:hidden}
    .author{margin:0;font-weight:700;margin-top:6px}
    .role{margin:0;color:rgba(200,200,200,0.7);font-size:0.86rem}
    .controls{display:flex;justify-content:center;align-items:center;gap:16px;margin-top:18px}
    .controls button{background:#111;color:#fff;border-radius:999px;border:0;width:40px;height:40px;cursor:pointer}
    .dots{display:flex;gap:10px}
    .dots button{width:10px;height:10px;border-radius:50%;border:0;background:rgba(255,255,255,0.16);cursor:pointer}
    .dots button.active{background:linear-gradient(90deg,var(--accent-1),var(--accent-2));transform:scale(1.12)}
    /* footer */
    footer{margin-top:40px;padding:20px 0;border-top:1px solid rgba(255,255,255,0.03);color:var(--muted)}
    .site-footer{background:#000;padding:18px 20px}
    /* responsive tweaks */
    @media(max-width:768px){.hero{padding-top:96px}.hero-visual{height:280px}}
  </style>

  <script>
    /* =========================
       Inline runtime manifest creator (avoids 404 when /site.webmanifest is not present)
       This code creates a blob URL for a minimal manifest and assigns it to the <link rel="manifest">.
       ========================= */
    (function createRuntimeManifest(){
      try {
        const existingLink = document.getElementById('site-manifest');
        const manifest = {
          "name": "Soundabode",
          "short_name": "Soundabode",
          "start_url": "/",
          "display": "standalone",
          "background_color": "#000000",
          "theme_color": "#000000",
          "icons": [
            { "src": "/Assets/favicon-192x192.png", "sizes": "192x192", "type": "image/png" },
            { "src": "/Assets/favicon-512x512.png", "sizes": "512x512", "type": "image/png" }
          ]
        };
        const blob = new Blob([JSON.stringify(manifest)], {type: 'application/json'});
        const url = URL.createObjectURL(blob);
        if (existingLink) existingLink.setAttribute('href', url);
      } catch (err) {
        console.warn('manifest creation failed', err);
      }
    })();
  </script>
</head>
<body>
  <nav class="navbar" role="navigation" aria-label="main navigation">
    <div style="display:flex;align-items:center;gap:18px">
      <a href="/"><img class="logo-img" src="https://res.cloudinary.com/di5bqvkma/image/upload/c_scale,w_100,q_auto,f_auto/v1761233576/sa-logo_edited_vycsd0.png" alt="Soundabode logo" /></a>
    </div>
    <div style="display:flex;align-items:center;gap:14px">
      <div class="nav-links" role="menubar" aria-label="Primary">
        <a href="/about">About</a>
        <a href="/courses">Courses</a>
        <a href="/contact">Contact</a>
      </div>
      <button class="hamburger-menu" aria-label="Open menu" style="background:none;border:0;color:#fff;display:none">☰</button>
    </div>
  </nav>

  <main class="container" id="main">
    <!-- HERO -->
    <section class="hero" aria-labelledby="hero-heading">
      <div>
        <p class="section-eyebrow">Soundabode Academy - Pune</p>
        <h1 id="hero-heading">India’s Most Hands-On Music
          <span class="gradient-text">Production, Audio Engineering &amp; DJ Courses</span>
        </h1>
        <p>One Academy, two Power Paths, choose yours with infinite music careers. Become the artist the world remembers.</p>

        <div class="cta-row">
          <button class="btn-primary" id="explore-emp">Explore EMP</button>
          <button class="btn-outline" id="explore-dj">DJ Training</button>
        </div>

        <div class="stats" aria-hidden="true" style="margin-top:18px;display:grid;grid-template-columns:repeat(2,1fr);gap:10px;max-width:420px">
          <div style="background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.03)">
            <div style="font-weight:700">1000+</div><div style="color:var(--muted);font-size:0.9rem">Students trained</div>
          </div>
          <div style="background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.03)">
            <div style="font-weight:700">200+</div><div style="color:var(--muted);font-size:0.9rem">Industry projects</div>
          </div>
        </div>
      </div>

      <div>
        <div class="hero-visual" id="hero-visual" aria-hidden="false" role="img" aria-label="Studio visuals">
          <img id="float-album" class="floating-img album" alt="Album mock" loading="lazy" src="/Assets/album-mock-1.jpg" />
          <img id="float-studio" class="floating-img studio" alt="Studio mock" loading="lazy" src="/Assets/studio-mock-2.jpg" />
        </div>
      </div>
    </section>

    <!-- TABS -->
    <div class="tabs" role="tablist" aria-label="Course tabs">
      <button class="tab-btn active" id="tab-emp" role="tab" aria-selected="true">EMP Music Production</button>
      <button class="tab-btn" id="tab-dj" role="tab" aria-selected="false">DJ Training</button>
    </div>

    <!-- EMP PANEL -->
    <section class="tab-panel" id="panel-emp" role="tabpanel" aria-labelledby="tab-emp">
      <div class="section section-narrow">
        <h2 class="section-title">Music Production &amp; Audio Engineering Courses in Pune</h2>
        <p class="section-lead"><strong>Learn. Create. Mix. Master. - Become a Complete Music Producer at Soundabode.</strong></p>
        <p class="muted">Welcome to <strong>Soundabode</strong> — a hands-on academy for music production, audio engineering and performance.</p>
      </div>

      <div class="section-divider"></div>

      <div class="section">
        <h3 class="section-title">The Complete Learning Path</h3>
        <p class="muted" style="max-width:640px;margin-top:4px">Four structured levels that take you from absolute beginner to professional producer and audio engineer.</p>

        <div class="levels-grid">
          <!-- IMPORTANT: link targets are explicit .html pages — ensure these files exist on the server at these exact paths -->
          <article class="level-card">
            <div class="level-badge">1</div>
            <div class="level-content">
              <h4 class="level-title">Level 1 - Beginner: Music Production / Audio Workstation</h4>
              <p class="level-subtitle">Build your foundation. Learn Ableton Live, sampling, song structure. Create your first track and understand the full workflow.</p>
              <div class="level-meta-row">
                <a class="level-link" data-target="/courses/music-production/beginner-course.html">Explore Level 1</a>
                <span class="muted">3 + 1 months internship</span>
              </div>
            </div>
          </article>

          <article class="level-card">
            <div class="level-badge">2</div>
            <div class="level-content">
              <h4 class="level-title">Level 2 - Intermediate: Pre-Degree in Electronic Music Production</h4>
              <p class="level-subtitle">Go deeper into sound design and production. Work with Serum, Massive and layered arrangements.</p>
              <div class="level-meta-row">
                <a class="level-link" data-target="/courses/music-production/intermediate-course.html">Explore Level 2</a>
                <span class="muted">3 + 1 months internship</span>
              </div>
            </div>
          </article>

          <article class="level-card">
            <div class="level-badge">3</div>
            <div class="level-content">
              <h4 class="level-title">Level 3 - Expert: Diploma in Audio Engineering</h4>
              <p class="level-subtitle">Engineer the sound you imagine. Train on studio-grade synths and modular setups.</p>
              <div class="level-meta-row">
                <a class="level-link" data-target="/courses/music-production/audio-engineering-diploma.html">Explore Level 3</a>
                <span class="muted">4 months</span>
              </div>
            </div>
          </article>

          <article class="level-card">
            <div class="level-badge">4</div>
            <div class="level-content">
              <h4 class="level-title">Level 4 - Advanced Mixing &amp; Mastering</h4>
              <p class="level-subtitle">Finish like a professional — Ozone, Waves and mastering workflows.</p>
              <div class="level-meta-row">
                <a class="level-link" data-target="/courses/music-production/mixing-mastering-course.html">Explore Level 4</a>
                <span class="muted">3 + 1 months internship</span>
              </div>
            </div>
          </article>
        </div>
      </div>

      <!-- TESTIMONIALS -->
      <section class="testimonials" aria-label="Student testimonials">
        <h2 class="section-title">WHAT THEY SAID</h2>

        <div class="testimonial-container" aria-live="polite">
          <div class="testimonial active" role="group" aria-roledescription="slide" aria-label="1 of 3">
            <p class="quote">"I've had an incredible experience at Soundabode. The instructors here are not just passionate, they're deeply experienced and truly know what they're teaching..."</p>
            <h3 class="author">Tanisha Railkar</h3>
            <p class="role">Tech House Producer</p>
          </div>

          <div class="testimonial" role="group" aria-roledescription="slide" aria-label="2 of 3">
            <p class="quote">"I recently completed a DJ course and I couldn't be happier with my experience. The course was well-structured and covered all the basics of DJing..."</p>
            <h3 class="author">Anmol Bhat</h3>
            <p class="role">DJ Student</p>
          </div>

          <div class="testimonial" role="group" aria-roledescription="slide" aria-label="3 of 3">
            <p class="quote">"I recently completed my level course with Sound Abode, and I couldn't be happier with my experience..."</p>
            <h3 class="author">Sudarsan Venkata Chilakalapalli</h3>
            <p class="role">Art Director</p>
          </div>
        </div>

        <div class="controls">
          <button class="prev" aria-label="Previous testimonial">&#10094;</button>
          <div class="dots" role="tablist" aria-label="Testimonial controls"></div>
          <button class="next" aria-label="Next testimonial">&#10095;</button>
        </div>

        <div class="sr-status" aria-live="polite" role="status" style="position: absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden;"></div>
      </section>

      <div class="section-divider"></div>

      <!-- ... rest of content kept minimal for brevity in the page but retained in original when you paste ... -->
      <div style="margin-top:20px">
        <h3 class="section-title">Why Soundabode</h3>
        <p class="muted">Professional sessions, industry trainers, hands-on curriculum and internships.</p>
      </div>

    </section>

    <!-- DJ PANEL (hidden by default) -->
    <section class="tab-panel hidden" id="panel-dj" role="tabpanel" aria-labelledby="tab-dj">
      <div class="section section-narrow">
        <h2 class="section-title">DJ Training Courses in Pune</h2>
        <p class="section-lead">Learn to mix, perform and master the art of DJing with Soundabode.</p>
      </div>
      <!-- DJ levels (similar structure) -->
      <div style="margin-top:14px" class="levels-grid">
        <article class="level-card">
          <div class="level-badge">1</div>
          <div class="level-content">
            <h4 class="level-title">Basic DJ Training Course</h4>
            <p class="level-subtitle">Beatmatching, EQing and your first live set.</p>
            <div class="level-meta-row">
              <a class="level-link" data-target="/courses/dj-training/basic-dj-course.html">Explore Level 1</a>
              <span class="muted">2 months · ₹35,000</span>
            </div>
          </div>
        </article>
        <!-- ...other DJ levels -->
      </div>
    </section>

    <!-- ENROLL CTA -->
    <section id="enroll" class="enroll-bottom" style="margin-top:26px;padding:16px;border-radius:12px;display:flex;justify-content:space-between;align-items:center;gap:12px;background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.04)">
      <div>
        <h3 class="enroll-bottom-title">Ready to start your music career?</h3>
        <div class="muted" style="margin-top:6px">Pay ₹30,000 to reserve your seat. Flexible installments available.</div>
      </div>
      <div style="display:flex;gap:10px">
        <a class="btn-primary" href="/enroll">Enroll Now</a>
        <a class="btn-outline" href="/contact">Contact Us</a>
      </div>
    </section>
  </main>

  <footer class="site-footer" role="contentinfo" style="margin-top:40px">
    <div class="container" style="display:flex;justify-content:space-between;align-items:flex-start;gap:20px;flex-wrap:wrap;padding:18px 0">
      <div style="min-width:220px">
        <h4 style="color:#888;margin:0 0 8px">ABOUT</h4>
        <ul style="list-style:none;padding:0;margin:0;color:#fff">
          <li><a href="/about">ABOUT</a></li>
          <li><a href="/courses">COURSES</a></li>
          <li><a href="/contact">CONTACT</a></li>
        </ul>
      </div>
      <div style="min-width:220px;color:var(--muted)">
        <h4 style="color:#888;margin:0 0 8px">LOCATION</h4>
        <p style="margin:0">Vision 9 Mall, Pimple Saudagar, Pune</p>
      </div>
      <div style="min-width:220px;color:var(--muted)">
        <h4 style="color:#888;margin:0 0 8px">SOCIALS</h4>
        <p style="margin:0"><a href="https://www.instagram.com/soundabode" target="_blank" rel="noopener noreferrer">Instagram</a></p>
      </div>
    </div>
    <div style="text-align:center;color:var(--muted);padding:10px 0">© <span id="year"></span> SOUNDABODE. All rights reserved.</div>
  </footer>

  <script>
    // set dynamic year
    document.getElementById('year').textContent = (new Date()).getFullYear();

    // Defensive analytics loading (non-blocking)
    (function(){
      // Bing UET
      const uetId = '12345678';
      if (uetId && 'requestIdleCallback' in window) requestIdleCallback(()=>{ try{
        (function(w,d,t,r,u){var f,n,i;w[u]=w[u]||[];f=function(){var o={ti:uetId};o.q=w[u];w[u]=new UET(o);w[u].push("pageLoad")};n=d.createElement(t);n.src=r;n.async=1;n.onload=n.onreadystatechange=function(){var s=this.readyState;if(!s||s==="loaded"||s==="complete"){f();n.onload=n.onreadystatechange=null}};i=d.getElementsByTagName(t)[0];i.parentNode.insertBefore(n,i)})(window,document,"script","https://bat.bing.com/bat.js","uetq");
      }catch(e){console.warn('uet load failed',e)}});
      // Facebook Pixel - similar guard
      const fbId = '2260208107777252';
      if (fbId && 'requestIdleCallback' in window) requestIdleCallback(()=>{ try{
        if (window.fbq) return;
        !function(f,b,e,v,n,t,s){if(f.fbq) return; n=f.fbq=function(){n.callMethod?n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window, document, 'script', 'https://connect.facebook.net/en_US/fbevents.js');
        fbq('init', fbId); fbq('track', 'PageView');
      }catch(err){console.warn('fb load failed',err)}});
    })();

    // Parallax for hero visuals
    (function(){
      const hero = document.getElementById('hero-visual');
      const album = document.getElementById('float-album');
      const studio = document.getElementById('float-studio');
      if (!hero || !album || !studio) return;
      hero.addEventListener('mousemove', (e) => {
        const rect = hero.getBoundingClientRect();
        const x = (e.clientX - rect.left)/rect.width - 0.5;
        const y = (e.clientY - rect.top)/rect.height - 0.5;
        album.style.transform = `translate(${x*16}px, ${y*10}px) rotate(${x*3}deg)`;
        studio.style.transform = `translate(${x*-12}px, ${y*-8}px) rotate(${x*-2.5}deg)`;
      });
      hero.addEventListener('mouseleave', ()=>{ album.style.transform=''; studio.style.transform=''; });
    })();

    // Robust image fallbacks (use only if image fails to load)
    (function(){
      function addFallback(img){
        if(!img) return;
        img.addEventListener('error', function onerr(){
          img.removeEventListener('error', onerr);
          img.src = 'data:image/svg+xml;utf8,' + encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="400" height="400"><rect width="100%" height="100%" fill="#071328"/></svg>');
          img.alt = '';
        });
      }
      addFallback(document.getElementById('float-album'));
      addFallback(document.getElementById('float-studio'));
    })();

    // Tabs - accessible behavior
    (function(){
      const tabEmp = document.getElementById('tab-emp');
      const tabDj = document.getElementById('tab-dj');
      const panelEmp = document.getElementById('panel-emp');
      const panelDj = document.getElementById('panel-dj');
      function activate(emp){
        if(emp){
          tabEmp.classList.add('active'); tabEmp.setAttribute('aria-selected','true');
          tabDj.classList.remove('active'); tabDj.setAttribute('aria-selected','false');
          panelEmp.classList.remove('hidden'); panelDj.classList.add('hidden');
        } else {
          tabDj.classList.add('active'); tabDj.setAttribute('aria-selected','true');
          tabEmp.classList.remove('active'); tabEmp.setAttribute('aria-selected','false');
          panelDj.classList.remove('hidden'); panelEmp.classList.add('hidden');
        }
      }
      tabEmp.addEventListener('click', ()=>{ activate(true); history.pushState({},'', '/courses/music-production'); });
      tabDj.addEventListener('click', ()=>{ activate(false); history.pushState({},'', '/courses/dj-training'); });
      window.addEventListener('popstate', ()=>{ // simple route handling based on path
        const p = location.pathname.toLowerCase();
        if(p.includes('/dj-training')) activate(false); else activate(true);
      });
      // initial route
      if(location.pathname.toLowerCase().includes('/dj-training')) activate(false); else activate(true);
    })();

    // Level link navigation with server check (prevents silent SPA fallback issue)
    (function(){
      // When clicking the .level-link, we attempt a HEAD request to the target file.
      // If 200 -> navigate. If 404 -> console.warn and open in a new tab for debugging.
      // This helps reveal server rewrite issues (host returning index.html for unknown paths).
      const links = Array.from(document.querySelectorAll('.level-link'));
      links.forEach(link=>{
        const target = link.dataset.target;
        if(!target) return;
        link.addEventListener('click', async (e)=>{
          e.preventDefault();
          try {
            // prefer HEAD; if blocked, fallback to GET with cache control
            const head = await fetch(target, {method:'HEAD', cache:'no-store'});
            if (head && head.ok) {
              window.location.href = target;
              return;
            }
            // If HEAD returned non-ok (404), try GET to inspect content
            const getResp = await fetch(target, {method:'GET', cache:'no-store'});
            if (getResp && getResp.ok) {
              // check if server returned the same index content (possible rewrite)
              const text = await getResp.text();
              // look for a unique string from your homepage that would indicate rewrite to index
              const indexSignature = '<nav class="navbar"';
              if (text.indexOf(indexSignature) !== -1 && !target.endsWith('/index.html')) {
                console.warn('Server appears to rewrite unknown paths to index.html. Upload the target file to', target, 'or adjust server rewrites.');
                // still navigate so user can see what happens — maintain expected behavior
                window.location.href = target;
                return;
              }
              // otherwise safe to navigate
              window.location.href = target;
              return;
            } else {
              console.warn('Target not found (server returned status):', getResp ? getResp.status : 'no-response', target);
              // open in new tab for debugging
              window.open(target, '_blank');
            }
          } catch (err) {
            // CORS/Network issues mean fetch might be blocked; fallback to direct navigation
            console.warn('Link check failed, performing direct navigation; error:', err);
            window.location.href = target;
          }
        });
      });
    })();

    // Testimonial carousel (accessible + autoplay with pause on hover/focus)
    (function(){
      const container = document.querySelector('.testimonial-container');
      if(!container) return;
      const slides = Array.from(container.querySelectorAll('.testimonial'));
      const prevBtn = document.querySelector('.controls .prev');
      const nextBtn = document.querySelector('.controls .next');
      const dotsWrap = document.querySelector('.controls .dots');
      const srStatus = document.querySelector('.sr-status');
      let current = slides.findIndex(s => s.classList.contains('active')); if(current<0) current=0;
      const total = slides.length;
      const AUTOPLAY_MS = 4000;
      let interval = null;

      // build dots
      slides.forEach((_,i)=>{
        const btn = document.createElement('button');
        btn.type='button';
        btn.setAttribute('aria-label', 'Show testimonial ' + (i+1));
        btn.dataset.index = String(i);
        dotsWrap.appendChild(btn);
      });
      const dots = Array.from(dotsWrap.children);

      function updateUI(idx){
        slides.forEach((s,i)=>{ const active = i===idx; s.classList.toggle('active', active); s.setAttribute('aria-hidden', active? 'false':'true'); });
        dots.forEach((d,i)=> d.classList.toggle('active', i===idx));
        if(srStatus) {
          const author = slides[idx].querySelector('.author')?.textContent || `Testimonial ${idx+1}`;
          srStatus.textContent = `Showing ${idx+1} of ${total}: ${author}`;
        }
      }
      function go(i){ current = (i+total)%total; updateUI(current); }
      function next(){ go(current+1); }
      function prev(){ go(current-1); }
      nextBtn && nextBtn.addEventListener('click', ()=>{ next(); reset(); });
      prevBtn && prevBtn.addEventListener('click', ()=>{ prev(); reset(); });
      dots.forEach(d=> d.addEventListener('click', (e)=>{ const idx = parseInt(e.currentTarget.dataset.index,10); go(idx); reset(); }));

      function start(){ if(interval) return; interval = setInterval(next, AUTOPLAY_MS); }
      function stop(){ if(interval){ clearInterval(interval); interval=null; } }
      function reset(){ stop(); setTimeout(start, 1200); }

      container.addEventListener('mouseenter', stop, {passive:true});
      container.addEventListener('mouseleave', start, {passive:true});
      container.addEventListener('focusin', stop);
      container.addEventListener('focusout', start);

      slides.forEach((s,i)=>{ s.setAttribute('role','group'); s.setAttribute('aria-roledescription','slide'); s.setAttribute('aria-label', `${i+1} of ${total}`); });
      go(current); start();
    })();
  </script>
</body>
</html>
